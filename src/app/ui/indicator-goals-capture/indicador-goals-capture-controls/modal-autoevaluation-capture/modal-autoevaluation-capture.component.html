<h1 mat-dialog-title class="h1">{{title}}</h1>
<mat-divider> </mat-divider>
<mat-dialog-content>
    <div class="container pt-0 modal-font-general">

        <div class="row mb-2">
            <div class="col-md-3 px-0">
                <label>Indicador: </label>
            </div>
            <div class="col-md-9">
                <label>{{modalData.infoindicador.claveNombreIndicador}}</label>
            </div>
            <br>
        </div>

        <div class="row mb-2">
            <div class="col-md-3 px-0">
                <label>Nivel/Modalidad: </label>
            </div>
            <div class="col-md-9">
                <label>{{modalData.nivelModalidadDescripcion}}</label>
            </div>
            <br>
        </div>

        <div class="row ">
            <label>Selecciona mínimo un requisito y condición de calidad que sí cumpliste.</label>
            <app-rubrica-autoevaluacion #tablarubrica [indicadorData]="modalData.rubrica"
                (actualizaRubrica)="actualizaRubrica($event)" [disabled]="(modalData.esVista || modalData.solicitaNa)"></app-rubrica-autoevaluacion>
                <mat-error *ngIf="errorRequisito">Este campo es obligatorio</mat-error>
        </div>

        <br>
        <div class="row ">
            <div class="col-md-3 pt-3 px-0">
                <label>Puntaje de la autoevaluación:</label>
            </div>
            <div class="col-md-9">
                <mat-form-field appearance="outline" class="col-md-12 mt-1">
                    <mat-select placeholder="Selecciona un puntaje" appearance="outline" 
                        [(ngModel)]="modalData.puntaje" [disabled]="modalData.esVista || modalData.solicitaNa">
                        <mat-option *ngFor="let row of modalData.puntajeKeyValue" [value]="row.key"> {{row.value}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-error *ngIf="errorPuntuaje" style="margin-top: -20px;margin-bottom: 10px;">Este campo es obligatorio</mat-error>
            </div>

        </div>
        <div class="row ">
            <div class="col-md-3 pt-3 px-0">
                <label>Comentario:</label>
            </div>
            <div class="col-md-9">
                <mat-form-field appearance="outline" class="col-md-12 mt-1">
                    <textarea matInput [disabled]="modalData.esVista || modalData.solicitaNa" [(ngModel)]="modalData.comentario"
                     appInputRestriction="APLHA_NUMERIC" [maxLength]="400" class="no-resize" placeholder="Opcional"></textarea>
                </mat-form-field>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3 pt-1 px-0">
                <label>Solicitud N/A:</label>
            </div>
            <div class="col-md-9" style="position: relative;top: -7px;">
                <mat-checkbox [(ngModel)]="modalData.solicitaNa" [disabled]="modalData.esVista"></mat-checkbox>
            </div>
        </div>

        <div class="row ">
            <div class="col-md-3 pt-3 px-0">
                <label>Justificación N/A:</label>
            </div>
            <div class="col-md-9">
                <mat-form-field appearance="outline" class="col-md-12 mt-1">
                    <textarea matInput name="justificacionNa" [disabled]="!modalData.solicitaNa || modalData.esVista" [(ngModel)]="modalData.justificacionNa"
                     appInputRestriction="APLHA_NUMERIC" [maxLength]="400" class="no-resize" placeholder="Ingresa"></textarea>
                </mat-form-field>
                <mat-error *ngIf="errorJustificacionNa ">Este campo es obligatorio</mat-error>
            </div>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="center" class="pb-4">
    <button type="button" mat-raised-button class="mt-3" (click)="closeModal()"
        *ngIf="modalData.esVista">Cerrar</button>
    <button type="button" mat-raised-button class="mt-3" (click)="closeModal()"
        *ngIf="!modalData.esVista">Cancelar</button>
    <button mat-raised-button class="mt-3" color="primary" *ngIf="!modalData.esVista" (click)="guardar()">
        Guardar
    </button>
</mat-dialog-actions>